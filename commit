#!/bin/bash
set -e  # exit on errors

echo "update local repo"
git pull
git diff --no-pager --check

echo "rebuild project"
rm -rf cmake-build-*
cmake . -B cmake-build-release -DCMAKE_BUILD_TYPE=Release
cmake --build cmake-build-release --parallel 4 --target testrunner --config Release

echo "update documentation"
doxygen Doxyfile

echo "commit to git"
git add .
git add -f docs
printf '‚îÅ%.0s' $(seq $(tput cols))
echo "All tests run successful und documemtation updated."
echo "Please use git commit now."
com
git push

